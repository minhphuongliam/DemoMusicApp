<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/auth_nav_graph"
    app:startDestination="@id/splashFragment">
<!--    kiểm tra đăng nhập tại splash nên từ đó-->

<!--    =====SPLASH FRAGMENT =====-->
<fragment
    android:id="@+id/splashFragment"
    android:name="com.demo.musicapp.ui.splash.SplashFragment"
    android:label="SplashFragment"
    tools:layout="@layout/fragment_splash">
    <!-- Action từ Splash -> Start. Xóa Splash khỏi back stack -->
    <action
        android:id="@+id/action_splashFragment_to_startFragment"
        app:destination="@id/startFragment"
        app:popUpTo="@id/splashFragment"
        app:popUpToInclusive="true" />
<!--        popBackStack cho đến khi gặp frag-->

    <!-- Việc đi đến HomeActivity sẽ được xử lý bằng Intent trong code, không cần action -->
</fragment>

    <!--    =====START FRAGMENT =====-->
    <fragment
        android:id="@+id/startFragment"
        android:name="com.demo.musicapp.ui.authentication.StartFragment"
        android:label="StartFragment"
        tools:layout="@layout/fragment_start">

        <!-- Action từ Start -> Login -->
        <action
            android:id="@+id/action_startFragment_to_loginFragment"
            app:destination="@+id/loginFragment">

        </action>
        <!-- Action từ Start -> Signup -->
        <action
            android:id="@+id/action_startFragment_to_signupFragment"
            app:destination="@id/signupFragment" />
    </fragment>


    <!--    =====LOGIN  FRAGMENT =====-->

    <fragment
        android:id="@+id/loginFragment"
        android:name="com.demo.musicapp.ui.authentication.LoginFragment"
        android:label="LoginFragment"
        tools:layout="@layout/fragment_login">

<!--        action ấn back -> Start : Nav tự lo-->

<!--        Đi đến Home dùng Intent trong code-->
    </fragment>

    <!--    =====SIGNUP FRAGMENT =====-->

    <fragment
        android:id="@+id/signupFragment"
        android:name="com.demo.musicapp.ui.authentication.SignupFragment"
        android:label="SignupFragment"
        tools:layout="@layout/fragment_signup">
    <!--        action ấn back -> Start : Nav tự lo-->

        <!--   Action  Đi đến login, xóa Signup khỏi back -->
<action
    android:id="@+id/action_signupFragment_to_loginFragment"
    app:destination="@id/loginFragment"
    app:popUpTo="@id/signupFragment"
    app:popUpToInclusive="true" />
    </fragment>
</navigation>